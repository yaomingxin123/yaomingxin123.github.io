[{"title":"阅读studio_library代码笔记","url":"/2023/01/29/studio-library/","content":"\n### 动态加载包\n字符串形式动态导入包\n![3.png](..%2Fimages%2FLIBRARY%2F3.png)\n````\n__import__(字符串)\n````\n<!--more-->\n### getattr获取对象中的属性\n\n这个found可以是模块,如果在模块中找不到n会引发异常\ngetattr(x, ‘foobar’) 等同于 x.foobar.如果指定的属性不存在,且提供了 default 值,则返回它.否则触发AttributeError.\n````\nfound = getattr(found, n) \n````\n\n### 创建有序字典\n目前理解两个字典顺序不一致,==则为false\n````\n_itemClasses = collections.OrderedDict()\n````\n### 监听关闭maya事件,触发事件(比如保存程序设置)\n\n<details>\n  <summary>点我展开看代码</summary>\n  <pre><code>\n_mayaCloseScriptJob = None\ndef enableMayaClosedEvent():\n\"\"\"\nCreate a Maya script job to trigger on the event \"quitApplication\".\nEnable the Maya closed event to save the library settings on close\n:rtype: None\n\"\"\"\nglobal _mayaCloseScriptJob\nif not _mayaCloseScriptJob:\n    event = ['quitApplication', mayaClosedEvent]\n    try:\n        _mayaCloseScriptJob = mutils.ScriptJob(event=event)\n        logger.debug(\"Maya close event enabled\")\n    except NameError as error:\n        logging.exception(error)\ndef disableMayaClosedEvent():\n\"\"\"Disable the maya closed event.\"\"\"\nglobal _mayaCloseScriptJob\nif _mayaCloseScriptJob:\n    _mayaCloseScriptJob.kill()\n    _mayaCloseScriptJob = None\n    logger.debug(\"Maya close event disabled\")\ndef mayaClosedEvent():\n\"\"\"\nCreate a Maya script job to trigger on the event \"quitApplication\".\n:rtype: None\n\"\"\"\nfor libraryWindow in librarywindow.LibraryWindow.instances():\n    libraryWindow.saveSettings()\n  </code></pre>\n</details>\n\n\n\n"},{"title":"windows疑难杂症","url":"/2023/01/29/windows疑难杂症/","content":"### 远程桌面----“你的凭据不工作\"\n\n[csdn链接](https://blog.csdn.net/qq_29918079/article/details/80011234)\n之前遇到过此问题,忘记是哪个解决方案了,下回出现再更新记录~\n\n<!--more-->\n"},{"title":"cmd代码记录","url":"/2023/01/29/cmd代码记录/","content":"\n### 常用文件路径\n````\n%WINDIR%                 {系统目录 - C:\\WINDOWS}\n%SYSTEMROOT%             {系统目录 - C:\\WINDOWS}\n%SYSTEMDRIVE%            {系统根目录 - C:}\n%HOMEDRIVE%              {当前用户根目录 - C:}\n%USERPROFILE%            {当前用户目录 - C:\\Documents and Settings\\wy}\n%HOMEPATH%               {当前用户路径 - \\Documents and Settings\\wy}\n%TMP%                    {当前用户临时文件夹 - C:\\DOCUME~1\\wy\\LOCALS~1\\Temp}\n%TEMP%                   {当前用户临时文件夹 - C:\\DOCUME~1\\wy\\LOCALS~1\\Temp}\n%APPDATA%                {当前用户数据文件夹 - C:\\Documents and Settings\\wy\\Application Data}\n%PROGRAMFILES%           {程序默认安装目录 - C:\\Program Files}\n%COMMONPROGRAMFILES%     {文件通用目录 - C:\\Program Files\\Common Files}\n%USERNAME%               {当前用户名 - wy}\n%ALLUSERSPROFILE%        {所有用户文件目录 - C:\\Documents and Settings\\All Users}\n%OS%                     {操作系统名 - Windows_NT}\n%COMPUTERNAME%           {计算机名 - IBM-B63851E95C9}\n%NUMBER_OF_PROCESSORS%   {处理器个数 - 1}\n%PROCESSOR_ARCHITECTURE% {处理器芯片架构 - x86}\n%PROCESSOR_LEVEL%        {处理器型号 - 6}\n%PROCESSOR_REVISION%     {处理器修订号 - 0905}\n%USERDOMAIN%             {包含用户帐号的域 - IBM-B63851E95C9}\n%COMSPEC%                {C:\\WINDOWS\\system32\\cmd.exe}\n\n%PATHEXT% {执行文件类型 - .COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.pyo;.pyc;.py;.pyw}\n%PATH%    {搜索路径}\n````\n<!--more-->\n### cmd 命令中带有空格\n解决方法  \n加双引号或使用别名 例:   \nc:\\Program Files 可以转换为\n````\nc:\\Progra~1\n````"},{"title":"python代码段记录","url":"/2023/01/29/python-代码段记录/","content":"[//]: # (password: hello)\n\n[//]: # (abstract：用于设置加密文章显示的摘要。)\n\n[//]: # (message：输入密码提示。)\n\n[//]: # (wrong_pass_message: 输入错误提示。)\n\n\n#### 杂项\n### UUID生成\n````\nimport uuid \nprint(uuid.uuid4().hex[:10])\n````\n### windows用户名\n````\nimport getpass\ngetpass.getuser()\n````\n<!--more-->\n### py打包exe\n-F: 产生单个可执行文件  \n-w: 不显示控制台  \n-i: 添加图标\n````\npyinstaller -F -w -i 'xxx.ico' xxx.py\n````\n\n#### os\n[官方网址](https://docs.python.org/zh-cn/3.7/library/os.html)  \n常用命令  \n<font color=#008000>os.name</font>:指示你正在使用的工作平台。比如对于Windows，它是'nt'，而对于Linux/Unix用户，它是'posix'.  \n<font color=#008000>os.getcwd</font>:得到当前工作目录，即当前python脚本工作的目录路径。  \n<font color=#008000>os.listdir</font>:返回指定目录下的所有文件和目录名  \n<font color=#008000>os.remove(file)</font>:删除一个文件  \n<font color=#008000>os.stat(file)</font>:获得文件属性  \n<font color=#008000>os.mkdir(name)</font>:创建目录  \n<font color=#008000>os.rmdir</font>:删除目录  \n<font color=#008000>os.system</font>:运行shell命令\n<font color=#008000>os.path.isfile()和os.path.isdir()</font>:分别检验给出的路径是一个目录还是文件\n<font color=#008000>os.path.existe()</font>:检验给出的路径是否真的存在\n<font color=#008000>os.listdir(dirname)</font>:列出dirname下的目录和文件  \n<font color=#008000>os.path.isdir(name)</font>:判断name是不是目录，不是目录就返回false  \n<font color=#008000>os.path.isfile(name</font>:判断name这个文件是否存在，不存在返回false  \n<font color=#008000>os.path.splitext()</font>:分离文件名和扩展名  \n<font color=#008000>os.path.join(path,name)</font>:连接目录与文件名或目录  \n<font color=#008000>os.path.basename(path)</font>:返回文件名  \n<font color=#008000>os.path.dirname(path)</font>:返回文件路径  \n#### Shutil \n对os的补充  \n<font color=#008000>shutil.copy2(文件路径, 新路径)</font>:拷贝文件和状态信息  \n<font color=#008000>shutil.copytree(源文件夹, 复制至dst文件夹，该文件夹会自动创建，需保证此文件夹不存在，否则将报错, symlinks=False, ignore=None)</font>:递归的去拷贝文件夹  \n<font color=#008000>shutil.rmtree(path[, ignore_errors[, onerror]])</font>:递归的去删除文件  \n<font color=#008000>shutil.make_archive(base_name, format[, root_dir[, base_dir, verbose, dry_run, owner, group, logger])</font>:创建压缩包并返回文件路径，例如：zip、tar  \n#### sys\n\n常用命令  \n<font color=#008000>sys.path</font>:当前环境变量  \n<font color=#008000>sys.path.append('路径')</font>:添加环境变量  "},{"title":"maya 开发常用功能记录","url":"/2023/01/29/maya-开发功能记录/","content":"\n#### 代码段记录\n\n### 跟踪报错位置\n<!--more-->\n转载于[vanny yuan's](https://vannyyuan.github.io/2020/10/13/maya/Maya%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E5%B8%B8%E7%94%A8%E5%8A%9F%E8%83%BD%E9%9B%86%E5%90%88/)\n\n````\ntry:\n    import 模块\n    reload(模块)\n    模块.func()\nexcept:\n    import traceback\n    traceback.print_exc()\n````\n### Maya的runTimeCommand所在路径\n转载于[vanny yuan's](https://vannyyuan.github.io/2020/10/13/maya/Maya%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E5%B8%B8%E7%94%A8%E5%8A%9F%E8%83%BD%E9%9B%86%E5%90%88/)\n\n````\n// 直接运行\n attachCache\n\n // 查询attachCache类型\n whatIs attachCache\n // Result: Run Time Command // \n\n // 查询runTimeCommand调用的方法\n runTimeCommand -q -command attachCache\n // Result: doAttachCacheArgList(0,{}) // \n\n // 查询doAttachCacheArgList\n whatIs doAttachCacheArgList\n // Result: Mel procedure found in: C:/Program Files/Autodesk/Maya2018/scripts/others/doAttachCacheArgList.mel //\n````\n### maya的环境变量\n\n[官方网站](https://github.com/mottosso/Maya-Environment-Variables)  \n中文翻译 转载[凌云](https://lingyunfx.com/maya-py-to-pyd/)\n![](images/maya环境变量.png)  \n\n常用\n````\nMAYA_DISABLE_CLIC_IPM=1  \n关闭登录功能  \nMAYA_UI_LANGUAGE zh_CN或en_US  \n切换语言  \n````\n### 切换到总渲染层\npython\n````\ncmds.editRenderLayerGlobals( currentRenderLayer='defaultRenderLayer' )\ncmds.setAttr('defaultRenderLayer.renderable',0)\n````\n### 进入摄像机视角\npython\n````\ncmds.lookThru('camera1')\n````\n### 获取渲染层id\nmel\n````\nlistConnections renderLayerManager.renderLayerId\n````\n### 当前渲染器\nmel\n````\ncurrentRenderer()\n````\n### ui面板id\npython\n````\npanes=cmds.getPanel( type='modelPanel')\n````\n### 关闭缩略图\npython\n````\ncmds.renderThumbnailUpdate(False)\n````\n### 鼠标状态\npython\n````\nwaitCursor\n````\n### 返回当前活动窗口\n````\ncmds.getPanel(withFocus=True)\n````\n### 判断两个模型是否可以做blendshape\n````\nsel = cmds.ls(sl=1)  \nprint(sel)\nret = cmds.polyCompare(sel,v=1,e=1,fd=1)  \n````\n### 拍屏代码参考\n````\ncmds.playblast(forceOverwrite=True, clearCache=True, startTime=1, endTime=10, sequenceTime=0, percent=100,\nquality=100, framePadding=4, widthHeight=[960, 540], format='qt', compression=\"MPEG-4 Video\",\nshowOrnaments=True, viewer=False, offScreen=True, filename='D:/cs.mov')\n````\n\n"},{"title":"maya等软件问题合集","url":"/2023/01/29/maya等软件问题合集/","content":"#### maya\n\n### callback 问题\n\n最近\"有幸\"遇到了这个问题, \n<!--more-->\n转载于[智商帝](https://blog.l0v0.com/posts/a7c99667.html)\n\n解决方法  \npython\n````\nfor modelPanel in cmds.getPanel(type=\"modelPanel\"):\n    if cmds.modelEditor(modelPanel, q=1, ec=1) == \"CgAbBlastPanelOptChangeCallback\":\n        cmds.modelEditor(modelPanel, e=1, ec=\"\")\n````\n\n### 渲染设置面板丢失\n\n解决方法  \nmel\n````\ndeleteUI unifiedRenderGlobalsWindow;\nbuildNewSceneUI;\n````\n### 删除未知节点\n\n解决方法  \npython\n````\nunknown_nodes = cmds.ls(type=['unknown', 'unknownDag', 'unknownTransform'])\nif len(unknown_nodes) > 0:\n    cmds.delete(unknown_nodes)\n    print '%s remove success.' % unknown_nodes\nelse:\n    print 'There are no Unknown Node.'\n````\n````\nunknown_plugin = cmds.unknownPlugin(q=True, list=True)\nif unknown_plugin is not None:\n    for i in unknown_plugin:\n        cmds.unknownPlugin(i, remove=True)\n        print 'Unkown Plugin %s remove sucess.' % i\nelse:\n    print 'There are no Unkown Plugin.'\n````\n\n"},{"title":"2022年工作总结和未来规划(美术)","url":"/2023/01/28/2022年工作总结和未来规划2/","content":"主要整理今年自己工作上相对满意的作品(灯光渲染合成)\n\n___多图预警___\n\n![11](/images/zuopin12.png)\n<!--more-->\n![22](/images/zuopin2.png)\n\n![22](/images/zuopin3.png)\n\n![22](/images/zuopin4.png)\n\n![22](/images/zuopin5.png)\n\n![22](/images/zuopin6.png)\n\n![22](/images/zuopin7.png)\n\n![22](/images/zuopin8.png)\n\n"},{"title":"2022年工作总结和未来规划(程序)","url":"/2023/01/28/2022年工作总结和未来规划1/","content":"主要整理下这一年所做的部分插件,因为有些功能做的很急...考虑的点不是很全面,所以今年(2023)要进行一些优化.\n<!--more-->\n[//]: # (Quick Start)\n\n### 渲染工具\n\n![](/images/渲染工具.png)\n\n\n使用最频繁之一的插件了,创建aov那里的代码逻辑需要改进,而且要添加自定义config.\n\n\n\n### deadline 提交插件\n\n#### 提交插件 主动\n\n![](/images/deadline提交工具.png)\n\n优势和解决的痛点\n1.优先帧测试功能,可自动提交自定义测试帧,不必手动设置\n\n2.提交速度,相比官方插件优化了一些不必要的参数,提交速度提升约70%\n\n3.黑白名单功能(后续可能会移除此功能),最开始的设计这个功能的初衷是有些机子渲染会失败,提交时把已知报错的机子添加黑名单即可解决.后面写了个事件插件,因此觉得此功能可以废除\n\n4.自动指认cgteam上渲染输出路径,可规范化路径,一键式提交\n\n_计划上线的功能_\n\n后续会增加自动计算首尾帧,和首中尾帧功能\n\n#### 提交插件 被动\n\n解决的痛点\n1.一台机子渲染任务时如果报错,也会一直渲染直到整个任务失败,导致要不断人工检查是否报错.包括周六周日.\n现在设定每个任务如果渲染失败超过3次会自动加入黑名单,基本解决以上问题\n\n2.每个优先级为100的任务,渲染完成后会自动调整为0\n方便制作人员查看,渲染的优先级\n\n\n_计划上线的功能_\n\n目前会出现一台机子几秒渲染一帧的失败情况,后续也会考虑添加最低渲染时间,如果低于这个时间会自动加入黑名单,这个在安排中\n\n### pipeline 工具\n\n![](/images/pipeline.png)\n\n解决的痛点\n\n1.规范文件,快速定位打开maya档案\n\n2.提升打开文件速度,自动关闭显示贴图等\n\n3.快速导入结算文件\n\n4.可直接双击查看动画和结算拍屏\n\n_计划上线的功能_\n\n1.添加自定义文件路径,创建属于自己的一个maya库,快速导入\n\n2.Ui现在的设计不是很合理,并且有些丑…\n\n### 快速添加至渲染层\n\n![](/images/大纲右键.png)\n\n解决的痛点\n\n1.Maya自带的添加渲染层很卡,不方便\n\n2.修改原生ui,可直接outline右键添加物体到渲染层,使用更平滑\n\n### 未来规划\n\nue python 蓝图 \n\n\n\n\n\n"}]